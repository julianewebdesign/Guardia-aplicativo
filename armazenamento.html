<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Armazenamento GuardIA</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: #f2f3f7;
    margin: 0;
    display: flex;
    justify-content: center;
  }

  .container {
    width: 420px;
    max-width: 100%;
    margin: 20px;
    background: #fff;
    border-radius: 25px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    padding: 20px;
  }

  .header {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-bottom: 20px;
    cursor: pointer;
  }
  .header img { height: 50px; width: 50px; object-fit: contain; }
  .header h1 { font-size: 28px; font-weight: 700; color: #ed83a6; margin: 0; }

  .sidebar {
    position: fixed;
    top: 0;
    left: -60%;
    width: 60%;
    max-width: 300px;
    height: 100%;
    background: #fff;
    box-shadow: 4px 0 15px rgba(0,0,0,0.25);
    padding: 25px 15px;
    transition: 0.3s;
    z-index: 2000;
    border-top-right-radius: 25px;
    border-bottom-right-radius: 25px;
  }
  .sidebar.active { left: 0; }
  .sidebar h2 { font-size: 20px; color: #ed83a6; margin-bottom: 25px; font-weight: 600; }
  .sidebar ul { list-style: none; padding: 0; }
  .sidebar ul li { padding: 15px 10px; border-bottom: 1px solid #eee; cursor: pointer; font-weight: 500; color: #444; transition: 0.2s; }
  .sidebar ul li:hover { color: #ed83a6; }

  .overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.3); display: none; z-index: 1000; }

  h2 { text-align: center; color: #444; margin-bottom: 20px; }

  .section {
    margin-bottom: 20px;
  }
  .section h3 { margin-bottom: 10px; color: #f796b7; font-weight: 600; }

  select {
    width: 100%;
    padding: 8px;
    border-radius: 10px;
    border: 1px solid #e0e0e0;
    margin-bottom: 10px;
    font-size: 14px;
  }

  .data-item {
    background: #fff;
    border: 2px solid #ed83a6;
    border-radius: 15px;
    padding: 10px;
    margin-bottom: 10px;
    font-size: 14px;
  }

  .data-item span { font-weight: 600; color: #ed83a6; display: block; margin-bottom: 4px; }
</style>
</head>
<body>

<div class="overlay" id="overlay" onclick="closeMenu()"></div>

<div class="sidebar" id="sidebar">
  <h2>Menu</h2>
  <ul>
    <li><a href="index.html">Painel</a></li>
    <li><a href="configuracoes.html">Configurações</a></li>
    <li><a href="forum.html">Fórum</a></li>
    <li><a href="noticias.html">Notícias</a></li>
    <li><a href="educacao.html">Educação</a></li>
    <li><a href="cadastro.html">Cadastro</a></li>
    <li><a href="historico.html">Histórico de rotas</a></li>
    <li><a href="interface_premium.html">Interface (Premium)</a></li>
    <li><a href="armazenamento.html">Armazenamento de usuária</a></li>
    <li><a href="protecao_crianca.html">Proteção à criança</a></li>
  </ul>
</div>

<div class="container">
  <div class="header" onclick="toggleMenu()">
    <img src="assets/guardia.png" alt="Logo GuardIA">
    <h1>GuardIA</h1>
  </div>

  <h2>Armazenamento de dados</h2>

  <div class="section">
    <h3>Filtrar por período</h3>
    <select id="filterPeriod" onchange="renderData()">
      <option value="all">Todos</option>
      <option value="day">Último dia</option>
      <option value="week">Última semana</option>
      <option value="month">Último mês</option>
    </select>
  </div>

  <div class="section" id="storageContainer"></div>
</div>

<script>
const sidebar = document.getElementById('sidebar');
const overlay = document.getElementById('overlay');

function toggleMenu() {
  sidebar.classList.toggle('active');
  overlay.style.display = sidebar.classList.contains('active') ? 'block' : 'none';
}
function closeMenu() {
  sidebar.classList.remove('active');
  overlay.style.display = 'none';
}

// Dados simulados
let storageData = [
  {type:'Áudio', content:'Gravação da rua X', date:'2025-09-05'},
  {type:'Rota', content:'Casa → Trabalho', date:'2025-09-05'},
  {type:'Local', content:'Uso do dispositivo no supermercado', date:'2025-09-04'},
  {type:'Relato', content:'Ocorrência na praça', date:'2025-09-03'},
  {type:'Postagem', content:'Dica de segurança no transporte público', date:'2025-09-02'}
];

function renderData() {
  const period = document.getElementById('filterPeriod').value;
  const container = document.getElementById('storageContainer');
  container.innerHTML = '';

  let filtered = storageData;

  const now = new Date();
  if(period !== 'all'){
    filtered = storageData.filter(d=>{
      const itemDate = new Date(d.date);
      if(period==='day') return (now - itemDate) / (1000*60*60) <=24;
      if(period==='week') return (now - itemDate) / (1000*60*60*24) <=7;
      if(period==='month') return (now - itemDate) / (1000*60*60*24) <=30;
    });
  }

  if(filtered.length===0){
    container.innerHTML = '<p>Nenhum dado encontrado para este período.</p>';
    return;
  }

  filtered.forEach(d=>{
    const div = document.createElement('div');
    div.className = 'data-item';
    div.innerHTML = `<span>${d.type}</span>${d.date}: ${d.content}`;
    container.appendChild(div);
  });
}

renderData();
</script>
</body>
</html>
